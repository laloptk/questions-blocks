{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/FrontEndRender.js","webpack:///./src/components/frontend/TrueFalseUserAnswer.js","webpack:///./src/frontend.js","webpack:///./src/utils/helpers.js","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"i18n\"]"],"names":["FrontEndRender","dataAttributes","console","log","attributes","setAttributes","useState","block_id","post_id","question","block_name","useEffect","userAnswer","setUserAnswer","answerIsCorrect","setIsCorrect","isLoading","setLoading","apiCall","response","getBlocksData","qasAPIRoute","rightAnswer","TrueFalseUserAnswer","props","isCorrect","backgroundColor","__","undefined","label","value","onChange","answerNotice","blocksData","loading","questionClass","questions","document","querySelectorAll","forEach","dataset","id","parseInt","render","extractWrappedStrings","text","opener","closer","answers","replaceAll","indexOf","openingIndex","closingIndex","push","substring","length","path","method","apiFetch","then","success","catch","error","type","message","noticeText","noticeClass"],"mappings":"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","file":"frontend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { useEffect, useState } from '@wordpress/element';\r\nimport TrueFalseUserAnswer from './frontend/TrueFalseUserAnswer';\r\nimport { getBlocksData } from '../utils/helpers';\r\n\r\nconst FrontEndRender = ( { dataAttributes } ) => {\r\n    console.log(dataAttributes);\r\n    const [ attributes, setAttributes ] = useState( {\r\n        block_id: 0,\r\n        post_id: 0,\r\n        question: '',\r\n        block_name: ''\r\n    } );\r\n\r\n    useEffect( () => {        \r\n        setAttributes( {\r\n            ...dataAttributes\r\n        } );        \r\n    }, [] );\r\n    \r\n    const [ userAnswer, setUserAnswer ] = useState( '' );\r\n    const [ answerIsCorrect, setIsCorrect ] = useState( '' );\r\n    const [ isLoading, setLoading ] = useState( false );\r\n\r\n    const apiCall = async () => {\r\n        setLoading( true );\r\n        const response = await getBlocksData( `${ qasAPIRoute }/${ dataAttributes.post_id }`, 'POST');\r\n        const rightAnswer = response[attributes.block_id][0]['attrs']['rightAnswer'] === true ? true : false;\r\n        setIsCorrect( (userAnswer === 'true') === rightAnswer );\r\n        setLoading( false );\r\n    }  \r\n\r\n    return (\r\n        <>  \r\n            {\r\n                attributes.block_name === 'qa/true-false' &&\r\n                    <TrueFalseUserAnswer \r\n                        isCorrect={ answerIsCorrect }\r\n                        question={ attributes.question }\r\n                        userAnswer={ userAnswer }\r\n                        loading={ isLoading }\r\n                        blocksData={ apiCall }\r\n                        onChange={ setUserAnswer }\r\n                    />\r\n            }\r\n            {\r\n                attributes.block_name === 'qa/fill-blanks' &&\r\n                    <div>Fill Blanks</div>\r\n            }\r\n            {\r\n                attributes.block_name === 'qa/matching-columns' &&\r\n                    <div>Matching Columns</div>\r\n            }\r\n            {\r\n                attributes.block_name === 'qa/multiple-choice' &&\r\n                    <div>Multiple Choice</div>\r\n            }\r\n        </>    \r\n    );\r\n}\r\n\r\nexport default FrontEndRender;","import { __ } from '@wordpress/i18n';\r\nimport { RadioControl, Button, Spinner } from '@wordpress/components';\r\nimport { answerNotice } from '../../utils/helpers';\r\n\r\nconst TrueFalseUserAnswer = ( props ) => {\r\n    return (\r\n        <div className=\"qa-frontend\" style={\r\n            props.isCorrect === false\r\n            ? {\r\n                backgroundColor: '#FF7F7F'\r\n            }\r\n            : props.isCorrect === true \r\n            ? {\r\n                backgroundColor: '#98FB98'\r\n            } \r\n            : {\r\n                backgroundColor: 'transparent'\r\n            }\r\n        }>\r\n        <div className=\"qa-frontend__question\">\r\n            <h2>{ props.question }</h2>\r\n        </div>\r\n        \r\n        <div className=\"qa-frontend__answer\" >\r\n            <RadioControl \r\n                label={ __( 'Answer' ) }\r\n                help={\r\n                    props.userAnswer === undefined \r\n                    ? \"Select an answer\"\r\n                    : props.userAnswer\r\n                    ? \"You selected 'True' as the right answer\"\r\n                    : \"You selected 'False' as the right answer\"\r\n                }\r\n                selected={ props.userAnswer }\r\n                options={ [\r\n                    { label: __( 'True' ), value: 'true' },\r\n                    { label: __( 'False' ), value: 'false' },\r\n                ] }\r\n                onChange={ ( value ) => props.onChange( value ) }\r\n            />\r\n        </div>\r\n        { answerNotice( props.isCorrect ) }\r\n        <div class=\"qa-frontend__send\">\r\n            <Button \r\n                variant=\"secondary\"\r\n                onClick={ props.blocksData }\r\n                disabled={ \r\n                    (props.loading || props.userAnswer === '') === true\r\n                }\r\n            >  \r\n            {\r\n                props.userAnswer === '' \r\n                ? __( 'Select an Answer Above' )\r\n                : props.loading\r\n                ? <Spinner />\r\n                : __( 'Send Answer' )\r\n            }                                            \r\n            </Button>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default TrueFalseUserAnswer;","import FrontEndRender from './components/FrontEndRender';\r\nimport { render } from '@wordpress/element';\r\n \r\nconst questionClass = '.qa-frontend-question-block';\r\nconst questions = document.querySelectorAll( questionClass );\r\n \r\nquestions.forEach( ( question ) => {\r\n    const attributes = {\r\n        block_id: question.dataset.id,\r\n        post_id: parseInt( question.dataset.post_id, 10 ),\r\n        question: question.dataset.question,\r\n        block_name: question.dataset.block_name   \r\n    };\r\n\r\n    render(\r\n        <FrontEndRender dataAttributes={ attributes } />,\r\n        question\r\n    );\r\n} );","import apiFetch from '@wordpress/api-fetch';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport const extractWrappedStrings = (text, opener, closer) => {\r\n    const answers = [];\r\n    const question = text.replaceAll( closer, '' ).replaceAll( opener, '' );\r\n\r\n    if( typeof text !== 'string' || typeof opener !== 'string' || typeof closer !== 'string' ) {\r\n        return;\r\n    }\r\n\r\n    while( text.indexOf( opener ) && text.indexOf( closer ) && text.indexOf( opener ) < text.indexOf( closer ) ) {\t\t\t\r\n        \r\n        const openingIndex = text.indexOf( opener );\r\n        const closingIndex = text.indexOf( closer );\t\r\n        answers.push( text.substring( openingIndex + opener.length, closingIndex ) );\r\n        text = text.substring( closingIndex + closer.length );\r\n\r\n    }\r\n\r\n    return { answers: answers, question: question }\r\n}\r\n\r\nexport const getBlocksData = (path, method) => { \r\n    return apiFetch( \r\n    {\r\n        path: path,\r\n        method: method\r\n        } ).then( ( success ) => {\r\n            return success;\r\n        } ).catch( ( error ) => {\r\n            return {\r\n                type: 'error',\r\n                message: error.message,\r\n        };\r\n    } );\r\n};\r\n\r\nexport const answerNotice = ( isCorrect ) => {\r\n    let noticeText = '';\r\n    let noticeClass= '';\r\n    switch(isCorrect) {\r\n        case true:\r\n            noticeText = __( 'You answered correctly!' );\r\n            noticeClass = 'correct';\r\n            break;\r\n        case false:\r\n            noticeText = __( 'That is the wrong answer!' );\r\n            noticeClass = 'correct';\r\n        default:\r\n            break;\r\n    }\r\n    \r\n    return ( <div className={ `answer-notice ${ noticeClass }` }> { noticeText } </div> );\r\n}","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());"],"sourceRoot":""}